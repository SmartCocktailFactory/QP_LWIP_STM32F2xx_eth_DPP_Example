/***********************************************************************/
/*                                                                     */
/*  FILE        :resetprg.c                                            */
/*  DATE        :Tue, Nov 22, 2011                                     */
/*  DESCRIPTION :Reset Program                                         */
/*  CPU TYPE    :RX610                                                 */
/*                                                                     */
/*  This file is generated by Renesas Project Generator (Ver.4.51).    */
/*  NOTE:THIS FILE HAS BEEN MODIFIED FOR QP FRAMEWORK.                 */
/*                                                                     */
/***********************************************************************/

#include    <machine.h>
#include    <_h_c_lib.h>
//#include    <stddef.h>      // Remove the comment when you use errno
//#include    <stdlib.h>      // Remove the comment when you use rand()
#include    "stacksct.h"

#ifdef __cplusplus
extern "C" {
#endif
void PowerON_Reset_PC(void);
void main(void);
#ifdef __cplusplus
}
#endif

//#ifdef __cplusplus          // Use SIM I/O
//extern "C" {
//#endif
//extern void _INIT_IOLIB(void);
//extern void _CLOSEALL(void);
//#ifdef __cplusplus
//}
//#endif

//extern void srand(_UINT);   // Remove the comment when you use rand()
//extern _SBYTE *_s1ptr;      // Remove the comment when you use strtok()

//#ifdef __cplusplus          // Remove the comment when you use global class object
//extern "C" {                // Sections C$INIT and C$END will be generated
//#endif
//extern void _CALL_INIT(void);
//extern void _CALL_END(void);
//#ifdef __cplusplus
//}
//#endif

#pragma section ResetPRG

#pragma entry PowerON_Reset_PC

void PowerON_Reset_PC(void) {
    set_intb((unsigned long)__sectop("C$VECT"));
    set_fpsw(0x00000100);
    _INITSCT();

//    _INIT_IOLIB(); // Remove the comment to use SIM I/O
//    errno=0;       // Remove the comment when you use errno
//    srand(123);    // Remove the comment when you use rand()
//    _s1ptr=NULL;   // Remove the comment when you use strtok()
    _CALL_INIT();    // Remove the comment when you use global class objects
    main();
//    _CLOSEALL();   // Remove the comment to use SIM I/O
//    _CALL_END();   // Remove the comment when you finalize class objects
      brk();
}
